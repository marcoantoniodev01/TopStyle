<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/mediaquery.css">
    <link rel="stylesheet" href="assets/css/mediaquerry-pag.css">
    <link rel="stylesheet" href="assets/css/style-header.css">
    <link rel="stylesheet" href="assets/css/mediaquery-header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/jPt43z3L/logo-background.png">
    <title>Pagamento - TopStyle</title>
</head>

<body>

    <div id="global-loader" class="page-loading-overlay">
        <div class="spinner"></div>
        <p class="loading-text">Carregando...</p>
    </div>

    <div title="Pegue seu desconto agora!! üòä" class="carrossel-desconto hidden fade-left">
        <div class="carrossel-wrapper">
            <span>FRETE GR√ÅTIS ACIMA DE R$100</span>
            <span>COMPRE COM R$10 OFF COM O CUPOM 'TOPSTYLE'</span>
            <span>FRETE GR√ÅTIS ACIMA DE R$100</span>
            <span>COMPRE COM R$10 OFF COM O CUPOM 'TOPSTYLE'</span>
        </div>
        <div class="carrossel-wrapper">
            <span>FRETE GR√ÅTIS ACIMA DE R$100</span>
            <span>COMPRE COM R$10 COM O CUPOM 'TOPSTYLE'</span>
            <span>FRETE GR√ÅTIS ACIMA DE R$100</span>
            <span>COMPRE COM R$10 OFF COM O CUPOM 'TOPSTYLE'</span>
        </div>
    </div>

    <header class="header " id="header">
        <nav class="nav__container">

            <div class="nav__menu header-divs" id="nav-menu">
                <ul class="nav__list">
                    <li title="Categorias" class="nav__item dropdown item1" id="nav__item">
                        <div class="header__link">
                            <a href="#categorias" class="nav__link">Categorias</a>
                            <i class="bi bi-caret-down-fill mobile-caret"></i>
                        </div>

                        <!-- MEGA MENU INSERIDO AQUI -->
                        <div class="mega-menu">
                            <div class="mega-content">
                                <div class="column">
                                    <h3><span class="column__title">Vestu√°rio</span></h3>
                                    <a href="#" data-link-id="vestuario-ver-todos">Ver Todos</a>
                                    <a href="#" data-link-id="vestuario-camisetas">Camisetas</a>
                                    <a href="#" data-link-id="vestuario-plus-size">Camiseta Plus-Size</a>
                                    <a href="#" data-link-id="vestuario-manga-longa">Camiseta Manga Longa</a>
                                    <a href="#" data-link-id="vestuario-moletons">Moletons</a>
                                    <a href="#" data-link-id="vestuario-jaquetas">Jaquetas E Casacos</a>
                                    <a href="#" data-link-id="vestuario-camisas">Camisas</a>
                                    <a href="#" data-link-id="vestuario-calcas">Cal√ßas</a>
                                    <a href="#" data-link-id="vestuario-shorts">Shorts E Bermudas</a>
                                </div>

                                <div class="column">
                                    <h3><span class="column__title">Outros</span></h3>
                                    <a href="#" data-link-id="outros-ver-todos">Ver Todos</a>
                                    <a href="#" data-link-id="outros-juvenil">Juvenil</a>
                                    <a href="#" data-link-id="outros-feminino">Feminino</a>
                                    <a href="#" data-link-id="outros-packs">Packs</a>
                                </div>

                                <div class="column">
                                    <h3><span class="column__title">Acess√≥rios</span></h3>
                                    <a href="#" data-link-id="acessorios-ver-todos">Ver Todos</a>
                                    <a href="#" data-link-id="acessorios-chaveiros">Chaveiros E Adesivos</a>
                                    <a href="#" data-link-id="acessorios-cuecas">Cuecas</a>
                                    <a href="#" data-link-id="acessorios-gorros">Gorros</a>
                                    <a href="#" data-link-id="acessorios-pochetes">Pochetes</a>
                                    <a href="#" data-link-id="acessorios-mochilas">Mochilas</a>
                                    <a href="#" data-link-id="acessorios-meias">Meias</a>
                                    <a href="#" data-link-id="acessorios-bags">Bags</a>
                                    <a href="#" data-link-id="acessorios-bones">Bon√©s</a>
                                    <a href="#" data-link-id="acessorios-bucket">Bucket</a>
                                    <a href="#" data-link-id="acessorios-carteiras">Carteiras</a>
                                </div>

                                <div class="column">
                                    <h3><span class="column__title">Cal√ßados</span></h3>
                                    <a href="#" data-link-id="calcados-ver-todos">Ver Todos</a>
                                    <a href="#" data-link-id="calcados-chinelos">Chinelos</a>
                                    <a href="#" data-link-id="calcados-tenis">T√™nis</a>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li title="Drops" class="nav__item dropdown item1">
                        <div class="header__link">
                            <a href="#drops" class="nav__link">Drops</a>
                            <i class="bi bi-caret-down-fill mobile-caret"></i>
                        </div>

                        <!-- MEGA MENU INSERIDO AQUI -->
                        <div class="mega-menu" id="mega-menu-drops">
                            <div class="mega-content" id="mega-content-drops">
                                <div class="mega-imgs">
                                    <div class="drop-column">
                                        <a href="#" class="drop__img"><img
                                                src="https://www.blog.userefuse.com.br/wp-content/uploads/2023/08/3-Raz%C3%B5es-para-Adotar-o-Estilo-Streetwear-em-Suas-Roupas-scaled.jpg"
                                                alt=""></a>
                                        <p class="drop-name">########</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li title="Sobre N√≥s" class="nav__item dropdown item2">
                        <div class="header__link">
                            <a href="sobre-nos.html" class="nav__link">Sobre</a>
                        </div>
                    </li>
                </ul>

                <div class="nav__close" id="nav-close">
                    <i class="ri-close-fill"></i>
                </div>
            </div>

            <div class="mobile__icons">
                <div class="nav__burger">
                    <i id="burger" class="material-icons nav__toggle" onclick="clickMenu()">menu</i>
                </div>
                <div class="nav__search">
                    <a href="javascript:void(0)" id="open-search-btn-mobile">
                        <i class="ri-search-line"></i>
                    </a>
                </div>
            </div>

            <div class="logo-text-container">
                <h1><a class="logo-text" href="inicial.html">TopStyle <span>| Pagamento</span></a></h1>
            </div>

            <div class="social-header header-divs">
                <ul>
                    <li class="social__link" title="Pesquisa">
                        <a href="javascript:void(0)" id="open-search-btn" class="desktop">
                            <i class="ri-search-line"></i>
                        </a>
                    </li>

                    <li class="social__link" title="Seu Perfil"><a href="perfil-cliente.html"><i
                                class="ri-user-line"></i></a></li>
                    <li class="social__link" title="Carrinho">
                        <a href="carrinho.html" class="cart-icon">
                            <i class="ri-shopping-cart-line"></i>
                            <span id="cart-count" class="cart-count">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="progress-bar"></div>

        <div id="search-modal" class="search-modal">
            <div class="search-overlay"></div>
            <div class="search-content">
                <div class="search-input-wrapper">
                    <i class="ri-search-line search-icon-input"></i>
                    <input type="text" id="search-input"
                        placeholder="O que voc√™ procura? (ex: Camiseta, Streetwear...)">
                    <i class="ri-close-line" id="close-search-btn"></i>
                </div>

                <div id="search-results" class="search-results">
                </div>
            </div>
        </div>

    </header>
    <div class="progress-bar"></div>

    <main>
        <section class="pagamento">
            <div class="pagamento-content">

                <div class="pagamento-endereco" id="endereco-section">
                    <div class="pagamento-endereco-top">
                        <div class="title-endereco-pagamento">
                            <i class="ri-map-pin-2-fill"></i>
                            <h2>Endere√ßo de entrega</h2>
                        </div>
                    </div>
                    <div id="endereco-container">
                        <p>Carregando seu endere√ßo...</p>
                    </div>
                </div>

                <div class="pagamento-produtos">
                    <h2>Produtos</h2>
                    <div id="checkout-products"></div>
                </div>

                <div class="pagamento-cupom">
                    <h2>Cupom de Desconto</h2>
                    <div class="cupom-container">
                        <div class="cupom">
                            <input type="text" id="cupom-input" autocomplete="off" placeholder="Digite seu cupom">
                            <button type="button" id="cupom-btn">ADICIONAR</button>
                        </div>
                        <div id="cupom-aplicado" class="cupom-aplicado-car">
                            <span class="badge-cupom">10% OFF</span>
                            <div><a href="#" id="trocar-cupom">Remover cupom</a></div>
                        </div>
                    </div>
                </div>

                <div class="pagamento-forma">
                    <div class="pagamento-forma-top">
                        <div class="title-endereco-pagamento">
                            <i class="ri-wallet-3-fill"></i>
                            <h2>Forma de Pagamento</h2>
                        </div>
                    </div>
                    <div id="pagamento-opcoes-container">
                        <div class="pagamento-opcao" data-method="pix">
                            <input type="radio" name="payment_method" id="payment-pix" value="pix">
                            <label for="payment-pix">
                                <div class="pagamento-opcao-info">
                                    <img src="https://i.ibb.co/3yvbzWkJ/pix.png" alt="Pix" class="pagamento-icone">
                                    <b>PIX</b>
                                </div>
                                <span class="pagamento-detalhe">Aprova√ß√£o imediata</span>
                            </label>
                        </div>
                        <div class="pagamento-opcao-accordion" id="cartao-accordion">
                            <div class="pagamento-opcao" id="cartao-accordion-header" data-method="card">
                                <input type="radio" name="payment_method" id="payment-card-group" value="card_group">
                                <label for="payment-card-group">
                                    <div class="pagamento-opcao-info">
                                        <img src="https://i.ibb.co/SXkYtP3K/catao.png" alt="Cart√£o"
                                            class="pagamento-icone">
                                        <b>Cart√£o de Cr√©dito</b>
                                    </div>
                                    <i class="ri-arrow-down-s-line" id="cartao-arrow"></i>
                                </label>
                            </div>
                            <div id="cartao-accordion-content">
                                <div id="lista-cartoes-container">
                                    <p>Carregando cart√µes...</p>
                                </div>
                                <button type="button" id="btn-abrir-modal-cartao" class="btn-adicionar-novo">
                                    <i class="ri-add-circle-fill"></i> Adicionar novo cart√£o
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pagamento-total-do-pedido">
                    <h2>Resumo do Pedido</h2>
                    <div class="frete-container">
                        <div id="frete-resultado">
                            <p>Selecione um endere√ßo para calcular o frete.</p>
                        </div>
                    </div>
                    <div id="resumo-compra"></div>
                    <div class="total-final-container">
                        <p id="checkout-total">Total: R$ 0,00</p>
                    </div>
                    <button id="btn-fazer-pedido">FAZER PEDIDO</button>
                </div>
            </div>
        </section>
    </main>

    <!-- MODAL DE SELE√á√ÉO DE ENDERE√áO (EXISTENTE) -->
    <div id="modal-selecionar-endereco" class="modal">
        <div class="modal-content">
            <h2>Selecione um Endere√ßo</h2>
            <div id="lista-enderecos-container">
            </div>
            <div class="modal-actions">
                <button id="btn-adicionar-novo-endereco" class="btn-secundario">Adicionar Novo Endere√ßo</button>
                <button id="btn-fechar-selecao" class="btn-cancelar">Fechar</button>
            </div>
        </div>
    </div>

    <!-- MODAL DE ADI√á√ÉO DE ENDERE√áO (EXISTENTE) -->
    <div id="modal-adicionar-endereco" class="modal">
        <div class="modal-content">
            <h2 id="modal-endereco-titulo">Adicionar Novo Endere√ßo</h2>
            <form id="form-endereco">
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="endereco-label">Identifica√ß√£o (Ex: Casa, Trabalho)</label>
                        <input type="text" id="endereco-label" required>
                    </div>
                    <div class="form-group">
                        <label for="endereco-cep">CEP</label>
                        <input type="text" id="endereco-cep" maxlength="9" required>
                    </div>
                    <div class="form-group">
                        <label for="endereco-rua">Rua / Avenida</label>
                        <input type="text" id="endereco-rua" required>
                    </div>
                    <div class="form-group">
                        <label for="endereco-numero">N√∫mero</label>
                        <input type="text" id="endereco-numero" required>
                    </div>
                    <div class="form-group">
                        <label for="endereco-complemento">Complemento (Bloco, Apto)</label>
                        <input type="text" id="endereco-complemento">
                    </div>
                    <div class="form-group">
                        <label for="endereco-cidade">Cidade</label>
                        <input type="text" id="endereco-cidade" required>
                    </div>
                    <div class="form-group">
                        <label for="endereco-estado">Estado</label>
                        <input type="text" id="endereco-estado" required>
                    </div>
                    <div class="form-group full-width">
                        <label for="endereco-referencia">Ponto de Refer√™ncia (Opcional)</label>
                        <input type="text" id="endereco-referencia">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-adicao" class="btn-cancelar">Cancelar</button>
                    <button type="submit" id="btn-salvar-endereco" class="btn-principal">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MODAL DE ADI√á√ÉO DE CART√ÉO (EXISTENTE) -->
    <div id="modal-adicionar-cartao" class="modal">
        <div class="modal-content">
            <h2 id="modal-cartao-titulo">Adicionar Novo Cart√£o</h2>
            <form id="form-cartao">
                <div class="form-grid">

                    <div class="form-group">
                        <label for="cartao-nickname">Nome do Cart√£o (Opcional)</label>
                        <input type="text" id="cartao-nickname" placeholder="Ex: Meu Nubank, Cart√£o Inter">
                    </div>

                    <div class="form-group">
                        <label for="cartao-brand-select">Marca do Cart√£o</label>
                        <div class="custom-select-wrapper" id="cartao-brand-select">
                            <div class="custom-select-trigger" tabindex="0">
                                <span id="cartao-brand-selected-text">Selecione a marca</span>
                                <i class="ri-arrow-down-s-line"></i>
                            </div>
                            <div class="custom-select-options">
                                <div class="custom-option" data-value="visa">
                                    <img src="https://i.ibb.co/zVNMbqgp/visa.webp" alt="Visa"> Visa
                                </div>
                                <div class="custom-option" data-value="mastercard">
                                    <img src="https://i.ibb.co/nsJz9M59/mastercard.webp" alt="Mastercard"> Mastercard
                                </div>
                                <div class="custom-option" data-value="elo">
                                    <img src="https://i.ibb.co/tPzvwVkJ/elo.webp" alt="Elo"> Elo
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="cartao-brand-value">
                    </div>

                    <div class="form-group">
                        <label for="cartao-numero">N√∫mero do Cart√£o</label>
                        <input type="text" id="cartao-numero" placeholder="0000 0000 0000 0000" maxlength="19" required>
                    </div>
                    <div class="form-group">
                        <label for="cartao-nome-titular">Nome no Cart√£o</label>
                        <input type="text" id="cartao-nome-titular" placeholder="COMO EST√Å NO CART√ÉO" required>
                    </div>
                    <div class="form-grid" style="gap: 1rem;">
                        <div class="form-group">
                            <label for="cartao-validade">Validade (MM/AA)</label>
                            <input type="text" id="cartao-validade" placeholder="MM/AA" maxlength="5" required>
                        </div>
                        <div class="form-group">
                            <label for="cartao-cvv">CVV</label>
                            <input type="text" id="cartao-cvv" placeholder="123" maxlength="4" required>
                        </div>
                    </div>
                    <p class="aviso-seguranca">
                        <i class="ri-lock-2-fill"></i> Seus dados est√£o seguros. N√£o armazenamos o n√∫mero completo do
                        seu cart√£o.
                    </p>
                </div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-adicao-cartao" class="btn-cancelar">Cancelar</button>
                    <button type="submit" id="btn-salvar-cartao" class="btn-principal">Salvar Cart√£o</button>
                </div>
            </form>
        </div>
    </div>


    <!-- ============================================= -->
    <!-- ===== NOVOS MODAIS (PEDIDO E WHATSAPP) ===== -->
    <!-- ============================================= -->

    <!-- MODAL 1: CONFIRMA√á√ÉO DE PEDIDO (PIX OU CART√ÉO) -->
    <div id="modal-pedido-confirmado" class="modal">
        <div class="modal-content sucesso-content">
            <button class="sucesso-close-btn" id="btn-fechar-confirmacao" aria-label="Fechar">
                <i class="ri-close-fill"></i>
            </button>

            <div id="view-cartao-confirmacao" class="sucesso-view">
                <div class="sucesso-icon-wrapper check">
                    <i class="ri-check-line"></i>
                </div>
                <h2>Pagamento em andamento...</h2>
                <p>Avisaremos quando seu pagamento for confirmado!</p>
            </div>

            <div id="view-pix-confirmacao" class="sucesso-view" style="display: none;">
                <div class="sucesso-icon-wrapper qr">
                    <img src="https://i.ibb.co/84T5HK5R/Em-Contrucao.png" alt="QR Code PIX">
                </div>
                <h2>Escaneie o QR Code para pagar</h2>
                <p>Ou copie o c√≥digo abaixo:</p>
                <div class="pix-copia-cola">
                    <input type="text" id="pix-code-input" value="https://topstyle.vercel.app/emconstrucao.html"
                        readonly>
                    <button id="btn-copiar-pix" type="button">
                        <i class="ri-file-copy-line"></i>
                        <span id="copy-text">Copiar</span>
                    </button>
                </div>
            </div>

            <div class="sucesso-actions">
                <button id="btn-enviar-email" class="btn-email" type="button"
                    style="background-color: #191D28; color: white;">
                    Receber comprovante por E-mail
                    <i class="ri-mail-send-line"></i>
                </button>
                <button id="btn-voltar-inicio" class="btn-voltar-home" type="button">
                    Voltar √† p√°gina inicial
                </button>
            </div>
        </div>
    </div>


    <!-- MODAL 2: SELE√á√ÉO DE TELEFONE -->
    <div id="modal-selecionar-telefone" class="modal">
        <div class="modal-content">
            <h2>Selecione um N√∫mero</h2>
            <!-- Reutilizando o container do modal de endere√ßo -->
            <div id="lista-telefones-container" class="lista-enderecos-container">
                <p>Carregando seus n√∫meros...</p>
            </div>
            <div class="modal-actions">
                <button id="btn-adicionar-novo-telefone" class="btn-secundario">Adicionar Novo N√∫mero</button>
                <button id="btn-fechar-selecao-telefone" class="btn-cancelar">Cancelar</button>
                <button id="btn-enviar-whatsapp" class="btn-principal" disabled>Enviar</button>
            </div>
        </div>
    </div>


    <!-- MODAL 3: ADI√á√ÉO DE TELEFONE -->
    <div id="modal-adicionar-telefone" class="modal">
        <div class="modal-content">
            <h2 id="modal-telefone-titulo">Adicionar Novo N√∫mero</h2>
            <form id="form-telefone">
                <div class="form-group">
                    <label>N√∫mero de WhatsApp</label>

                    <div class="phone-input-group">

                        <div class="country-select-wrapper" id="country-select-wrapper">
                            <div class="country-select-trigger" tabindex="0">
                                <img src="https://flagcdn.com/w40/br.png" alt="BR" id="selected-flag">
                                <span id="selected-code">+55</span>
                                <i class="ri-arrow-down-s-fill"></i>
                            </div>
                            <div class="country-options">
                                <div class="country-option" data-code="+55" data-flag="br" data-mask="(00) 00000-0000">
                                    <img src="https://flagcdn.com/w40/br.png" alt="BR"> <span>Brasil (+55)</span>
                                </div>
                                <div class="country-option" data-code="+1" data-flag="us" data-mask="(000) 000-0000">
                                    <img src="https://flagcdn.com/w40/us.png" alt="US"> <span>EUA (+1)</span>
                                </div>
                                <div class="country-option" data-code="+351" data-flag="pt" data-mask="000 000 000">
                                    <img src="https://flagcdn.com/w40/pt.png" alt="PT"> <span>Portugal (+351)</span>
                                </div>
                            </div>
                        </div>

                        <input type="tel" id="telefone-input" placeholder="(00) 00000-0000" required>
                    </div>
                    <p class="input-hint">Digite apenas os n√∫meros com DDD.</p>
                </div>

                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-adicao-telefone" class="btn-cancelar">Cancelar</button>
                    <button type="submit" id="btn-salvar-telefone" class="btn-principal">Salvar</button>
                </div>
            </form>
        </div>
    </div>


    <footer class="footer">

        <div class="footer-main">
            <div class="footer-brand">
                <h2>TopStyle</h2>
                <p>Mais que moda, √© movimento.
                    Drops exclusivos, feitos para quem cria tend√™ncia.</p>
            </div>

            <div class="footer-links">
                <div>
                    <h4>Cole√ß√µes</h4>
                    <ul>
                        <li><a href="inicial.html#promotions-day">Novidades</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Marca</h4>
                    <ul>
                        <li><a href="sobre-nos.html">Sobre n√≥s</a></li>
                        <li><a href="https://www.instagram.com/moda.topstyle?igsh=MTU2NWg4ZDA2emQ0dQ==" target="_blank">Na m√≠dia</a></li>
                    </ul>
                </div>
                <div>
                    <h4>Ajuda</h4>
                    <ul>
                        <li><a href="medidas.html">Guia de tamanhos</a></li>
                        <li><a href="suporte.html">Suporte</a></li>
                        <li><a href="devolucao.html">Pol√≠tica de devolu√ß√£o</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>¬© 2025 TopStyle. Todos os direitos reservados.</p>
            <div class="footer-legal">
                <a href="termos.html">Termos / Privacidade / Cookies</a>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            // Substitua pela sua Public Key que voc√™ pegou no Passo 1
            emailjs.init("-EljTymn4v8f4cLYg");
        })();
    </script>
    <script src="assets/js/admiconedash.js"></script>
    <script src="assets/js/loader.js"></script>
    <script src="assets/js/coupon-manager.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
    <script src="assets/js/error-logger.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/checkout.js"></script>
    <script src="assets/js/menu-hamburger.js"></script>
    <script src="assets/js/header-cell.js"></script>
    <script src="assets/js/drops.js"></script>
    <script src="assets/js/header-control.js"></script>
    <script src="assets/js/collection-linker.js"></script>
    <script src="assets/js/search-modal.js" type="module"></script>
</body>



</html>


