<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/cupons.css">
  <link rel="stylesheet" href="assets/css/style-header.css">
  <link rel="stylesheet" href="assets/css/dashboard.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/jPt43z3L/logo-background.png">
</head>

<body>

  <header class="header " id="header">
    <nav class="nav__container">
      <div class="nav__menu" id="nav-menu">
        <ul class="nav__list">
          <li title="Categorias" class="nav__item dropdown item1" id="nav__item">
            <div class="header__link">
              <a href="#categorias" class="nav__link">Categorias</a>
              <i class="bi bi-caret-down-fill mobile-caret"></i>
            </div>

            <!-- MEGA MENU INSERIDO AQUI -->
            <div class="mega-menu">
              <div class="mega-content">
                <div class="column">
                  <h3><span class="column__title">Vestuário</span></h3>
                  <a href="#" data-link-id="vestuario-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="vestuario-camisetas">Camisetas</a>
                  <a href="#" data-link-id="vestuario-plus-size">Camiseta Plus-Size</a>
                  <a href="#" data-link-id="vestuario-manga-longa">Camiseta Manga Longa</a>
                  <a href="#" data-link-id="vestuario-moletons">Moletons</a>
                  <a href="#" data-link-id="vestuario-jaquetas">Jaquetas E Casacos</a>
                  <a href="#" data-link-id="vestuario-camisas">Camisas</a>
                  <a href="#" data-link-id="vestuario-calcas">Calças</a>
                  <a href="#" data-link-id="vestuario-shorts">Shorts E Bermudas</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Outros</span></h3>
                  <a href="#" data-link-id="outros-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="outros-juvenil">Juvenil</a>
                  <a href="#" data-link-id="outros-feminino">Feminino</a>
                  <a href="#" data-link-id="outros-packs">Packs</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Acessórios</span></h3>
                  <a href="#" data-link-id="acessorios-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="acessorios-chaveiros">Chaveiros E Adesivos</a>
                  <a href="#" data-link-id="acessorios-cuecas">Cuecas</a>
                  <a href="#" data-link-id="acessorios-gorros">Gorros</a>
                  <a href="#" data-link-id="acessorios-pochetes">Pochetes</a>
                  <a href="#" data-link-id="acessorios-mochilas">Mochilas</a>
                  <a href="#" data-link-id="acessorios-meias">Meias</a>
                  <a href="#" data-link-id="acessorios-bags">Bags</a>
                  <a href="#" data-link-id="acessorios-bones">Bonés</a>
                  <a href="#" data-link-id="acessorios-bucket">Bucket</a>
                  <a href="#" data-link-id="acessorios-carteiras">Carteiras</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Calçados</span></h3>
                  <a href="#" data-link-id="calcados-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="calcados-chinelos">Chinelos</a>
                </div>
              </div>
            </div>
          </li>

          <li title="Drops" class="nav__item dropdown item1">
            <div class="header__link">
              <a href="#drops" class="nav__link">Drops</a>
              <i class="bi bi-caret-down-fill mobile-caret"></i>
            </div>

            <!-- MEGA MENU INSERIDO AQUI -->
            <div class="mega-menu" id="mega-menu-drops">
              <div class="mega-content">
                <div class="column">
                  <h3><span class="column__title">Vestuário</span></h3>
                  <a href="#" data-link-id="vestuario-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="vestuario-camisetas">Camisetas</a>
                  <a href="#" data-link-id="vestuario-plus-size">Camiseta Plus-Size</a>
                  <a href="#" data-link-id="vestuario-manga-longa">Camiseta Manga Longa</a>
                  <a href="#" data-link-id="vestuario-moletons">Moletons</a>
                  <a href="#" data-link-id="vestuario-jaquetas">Jaquetas E Casacos</a>
                  <a href="#" data-link-id="vestuario-camisas">Camisas</a>
                  <a href="#" data-link-id="vestuario-calcas">Calças</a>
                  <a href="#" data-link-id="vestuario-shorts">Shorts E Bermudas</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Outros</span></h3>
                  <a href="#" data-link-id="outros-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="outros-juvenil">Juvenil</a>
                  <a href="#" data-link-id="outros-feminino">Feminino</a>
                  <a href="#" data-link-id="outros-packs">Packs</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Acessórios</span></h3>
                  <a href="#" data-link-id="acessorios-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="acessorios-chaveiros">Chaveiros E Adesivos</a>
                  <a href="#" data-link-id="acessorios-cuecas">Cuecas</a>
                  <a href="#" data-link-id="acessorios-gorros">Gorros</a>
                  <a href="#" data-link-id="acessorios-pochetes">Pochetes</a>
                  <a href="#" data-link-id="acessorios-mochilas">Mochilas</a>
                  <a href="#" data-link-id="acessorios-meias">Meias</a>
                  <a href="#" data-link-id="acessorios-bags">Bags</a>
                  <a href="#" data-link-id="acessorios-bones">Bonés</a>
                  <a href="#" data-link-id="acessorios-bucket">Bucket</a>
                  <a href="#" data-link-id="acessorios-carteiras">Carteiras</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Calçados</span></h3>
                  <a href="#" data-link-id="calcados-ver-todos">Ver Todos</a>
                  <a href="#" data-link-id="calcados-chinelos">Chinelos</a>
                </div>
              </div>
            </div>
          </li>


          <li title="Promoções" class="nav__item dropdown item2">
            <div class="header__link">
              <a href="#off" class="nav__link">Off</a>
              <i class="bi bi-caret-down-fill mobile-caret"></i>
            </div>

            <!-- MEGA MENU INSERIDO AQUI -->
            <div class="mega-menu" id="mega-menu-off">
              <div class="mega-content">
                <div class="column">
                  <h3><span class="column__title">Vestuário</span></h3>
                  <a href="#">Ver Todos</a>
                  <a href="#">Camisetas</a>
                  <a href="#">Camiseta Plus-Size</a>
                  <a href="#">Camiseta Manga Longa</a>
                  <a href="#">Moletons</a>
                  <a href="#">Jaquetas E Casacos</a>
                  <a href="#">Camisas</a>
                  <a href="#">Calças</a>
                  <a href="#">Shorts E Bermudas</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Outros</span></h3>
                  <a href="#">Ver Todos</a>
                  <a href="#">Juvenil</a>
                  <a href="#">Feminino</a>
                  <a href="#">Packs</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Acessórios</span></h3>
                  <a href="#">Ver Todos</a>
                  <a href="#">Chaveiros E Adesivos</a>
                  <a href="#">Cuecas</a>
                  <a href="#">Gorros</a>
                  <a href="#">Pochetes</a>
                  <a href="#">Mochilas</a>
                  <a href="#">Meias</a>
                  <a href="#">Bags</a>
                  <a href="#">Bonés</a>
                  <a href="#">Bucket</a>
                  <a href="#">Carteiras</a>
                </div>

                <div class="column">
                  <h3><span class="column__title">Calçados</span></h3>
                  <a href="#">Ver Todos</a>
                  <a href="#">Chinelos</a>
                </div>
              </div>
            </div>
          </li>

          <li title="Sobre Nós" class="nav__item dropdown item2">
            <div class="header__link">
              <a href="#sobre" class="nav__link">Sobre</a>
            </div>
          </li>
        </ul>

        <div class="nav__close" id="nav-close">
          <i class="ri-close-fill"></i>
        </div>
      </div>

      <div class="logo-text-container">
        <h1><a class="logo-text" href="inicial.html"><b>TopStyle <span>| Dashboard Adm</span></b></a></h1>
      </div>

      <div class="social-header">
        <ul>
          <li class="social__link" title="Instagram"><a href=""><i class="ri-instagram-fill"></i></a></li>
          <li class="social__link" title="Seu Perfil"><a href="perfil-cliente.html"><i class="ri-user-line"></i></a>
          </li>
          <li class="social__link" title="Carrinho">
            <a href="carrinho.html" class="cart-icon">
              <i class="ri-shopping-cart-line"></i>
              <span id="cart-count" class="cart-count">0</span>
            </a>
          </li>
          <li class="social__link">
            <i id="burger" class="material-icons nav__toggle" onclick="clickMenu()">menu</i>
          </li>
        </ul>

      </div>
    </nav>
    <div class="progress-bar"></div>
  </header>

  <main>
    <section class="body-admin">
      <section class="body-left">
        <div class="block-left">
          <div class="logo-block-left">

          </div>
          <div class="info-block-left">
            <ul class="menu">

              <!-- MENU (apenas trecho Dashboard mostrado; repita data-target nos outros submenus) -->
              <li class="menu-item">
                <span><i class="bi bi-bar-chart-fill"></i> Dashboard (Visão Geral)</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li data-content="graficos">Gráficos principais (vendas, usuários, visitas, receita)</li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-file-earmark-person-fill"></i> Usuários / Clientes</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li data-content="usuarios-cadastro">Gestão de administradores</li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-cart-fill"></i> Produtos / Serviços</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li data-content="lista-produto">Listagem com imagem, preço, estoque e status</li>
                <li data-content="categoria-produto">Categorias e filtros</li>
                <li data-content="colecao-drops">Drops</li>
                <li data-content="controle-header">Header links</li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-box-seam-fill"></i> Pedidos / Transações</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li data-content="cupom">Histórico de cupons</li>
                <li data-content="status-transicao">Status de cada transação</li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-journal-bookmark-fill"></i> Relatórios</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li>Produtos mais vendidos</li>
                <li>Sei la </li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-bell-fill"></i> Notificações</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li>Toda as Notificações</li>
                <li>Mensagens de usuários</li>
                <li>Logs de erro ou atividades (se tiver como)</li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-chat-dots-fill"></i> Mensagens / Suporte</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <li>Chat com usuários ou equipe</li>
                <li>Chat com fornecedor</li>
              </ul>

              <li class="menu-item">
                <span><i class="bi bi-person-workspace"></i> Perfil do Admin</span>
                <span class="arrow">▶</span>
              </li>
              <ul class="submenu">
                <a href="perfil-cliente.html">
                  <li>Dados pessoais</li>
                </a>
                <li>Alterar senha</li>
                <a href="index.html">
                  <li>Logout</li>
                </a>
              </ul>
            </ul>
          </div>
        </div>
      </section>
      <section class="body-right">

        <div class="page active" id="graficos">
          <section class="graficos-body">
            <!-- <header class="grafico-header">
            <div class="texto-de-mostrar">
              <i class="bi bi-house"></i>
              <label for="">Dashboard &gt; Gráficos principais</label>
            </div>
            <div class="grafico-header-left">
              <input type="text" placeholder="Pesquisar...">
              <i class="bi bi-search"></i>
            </div>
            <div class="grafico-header-center">
              <label class="notificacoes-header">
                <span class="noti-text">Notificações</span>
                <i class="bi bi-bell-fill">
                  <span class="noti-count">0</span>
                </i>
              </label>

            </div>
            <div class="grafico-header-right">
              <img src="redondo.png" alt="" class="icone-pais" width="1vw">
              <label for="">
                Bryan henrique
              </label>
              <img src="" alt="" class="perfil-img">
            </div>
          </header> -->

            <section class="graficos-center">
              <div class="center-block-vendidos">
                <div class="icon-center-block-vendidos"><i class="bi bi-receipt"></i></div>
                <div class="vendidos-text">
                  <h2>0 m</h2>
                  <p>Vendidos</p>
                </div>
              </div>
              <div class="center-block-criados">
                <div class="icon-center-block-criados"><i class="bi bi-hammer"></i></div>
                <div class="criados-text">
                  <h2>0 m</h2>
                  <p>Criados</p>
                </div>
              </div>
              <div class="center-block-produtos">
                <div class="icon-center-block-produtos"><i class="bi bi-box-seam"></i></div>
                <div class="produtos-text">
                  <h2 id="total-produtos">0 m</h2>
                  <p>Produtos</p>
                </div>
              </div>
              <div class="center-block-faturamento">
                <div class="icon-center-block-faturamento"><i class="bi bi-cash-coin"></i></div>
                <div class="faturamento-text">
                  <h2>0 m</h2>
                  <p>faturamento</p>
                </div>
              </div>
            </section>

            <section class="graficos-bottom">
              <section class="bottom-left">
                <div class="block-overall">
                  <h2>Vendas totais</h2>
                  <p id="vendas-totais">R$ 0,00</p>
                </div>
                <div class="block-Earnings">
                  <h2>Lucro total</h2>
                  <p id="lucro-total">R$ 0,00</p>
                </div>
                <div class="block-Revenue">
                  <h2>Custo total</h2>
                  <p id="receita-total">R$ 0,00</p>
                </div>
                <div class="block-Customers">
                  <h2>Fornecedores</h2>
                  <p id="novos-clientes">0</p>
                </div>
                <div class="block-button-reports">
                  <a href="#">Visualizar relatórios</a>
                </div>
              </section>

              <section class="bottom-center">
                <!-- ====== GRÁFICO DE LINHAS ====== -->
                <div class="main-chart">
                  <div class="chart-header">
                    <h3>Vendidos & Revenda</h3>
                    <div class="chart-tabs">
                      <button class="active">Hoje</button>
                      <button>Ontem</button>
                      <button>7 dias</button>
                      <button>15 dias</button>
                      <button>30 dias</button>
                    </div>
                  </div>
                  <div id="lineChart"></div>
                </div>
              </section>
              <section class="bottom-right">
                <!-- ====== GRÁFICO DE BARRAS ====== -->
                <div class="side-card">
                  <h3>Sales</h3>
                  <div id="barChart"></div>
                  <h2>2100</h2>
                  <p>12% higher than last month</p>
                </div>
              </section>
            </section>

          </section>
        </div>

        <div class="page" id="indicadores">
          <h2>Indicadores Rápidos</h2>
          <p>KPI, indicadores estratégicos, etc.</p>
        </div>

        <div class="page" id="usuarios-cadastro">
          <div class="admin-container admin-container-header">

            <div class="page-header" style="margin-bottom: 25px;">
              <h1>Gestão de Usuários</h1>
              <p class="cat-subtitle">Controle os clientes e administradores da loja</p>
            </div>

            <div class="search-bar-container">
              <i class="ri-search-line search-icon"></i>
              <input type="text" id="filtroBusca" placeholder="Pesquisar por nome, email ou ID..."
                onkeyup="mostrarProfiles()" class="user-search-bar" />

            </div>

            <div id="user-cards-list" class="user-cards-list">
            </div>

          </div>
        </div>

        <div class="page" id="lista-produto">
          <section class="list-product ProScrollBox">
            <h1 class="Proh1">
              Produtos
              <button class="ProAddBtn" onclick="addProduct()">+ Adicionar Produto</button>
            </h1>

            <div id="productGrid" class="ProGrid"></div>
          </section>
        </div>

        <div class="page" id="cupom">
          <div class="admin-container">
            <div class="page-header">
              <h1>Gestão de Cupons</h1>
              <p class="cat-subtitle">Controle os cupons da loja</p>
            </div>

            <div id="coupons-list" class="coupons-list">
              <div class="loading-spinner">Carregando...</div>
            </div>

            <button id="btn-open-create" class="big-add-btn">
              Adicionar Cupom <span>+</span>
            </button>
          </div>
        </div>

        <div class="page page-cat" id="categoria-produto">
          <div class="cat-container">
            <header class="cat-header-section">
              <div>
                <h1>Gestão de Categorias</h1>
                <p class="cat-subtitle">Controle as categorias da loja (Sincronizado com Produtos)</p>
              </div>
              <button onclick="catOpenFormModal('add')" class="cat-btn cat-btn-primary">
                <i class="bi bi-plus-lg"></i> Nova Categoria
              </button>
            </header>

            <div id="cat-stats-container" class="cat-stats-grid">
            </div>

            <div id="cat-loader" class="cat-loader hidden"></div>

            <div id="cat-content" class="hidden">
              <div class="cat-table-wrapper">
                <table class="cat-table">
                  <thead>
                    <tr>
                      <th>Categoria</th>
                      <th style="text-align: center;">Qtd. Produtos</th>
                      <th style="text-align: right;">Ações</th>
                    </tr>
                  </thead>
                  <tbody id="cat-list-body">
                  </tbody>
                </table>
              </div>

              <div id="cat-empty-state" class="hidden">
                <i class="bi bi-inbox" style="font-size: 40px; margin-bottom: 10px;"></i>
                <p>Nenhuma categoria encontrada.</p>
              </div>
            </div>
          </div>

          <div id="cat-modal-form" class="cat-modal-overlay">
            <div class="cat-modal-content">
              <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                <h2 id="cat-form-title" style="margin: 0; font-size: 1.25rem;">Categoria</h2>
                <button onclick="catCloseModals()" class="cat-close-btn"><i class="bi bi-x-lg"></i></button>
              </div>
              <label style="font-size: 0.9rem; font-weight: 500;">Nome da Categoria</label>
              <input type="text" id="cat-input-name" class="cat-form-input" placeholder="Ex: Eletrônicos">

              <input type="hidden" id="cat-input-old-name">
              <input type="hidden" id="cat-input-mode">
              <input type="hidden" id="cat-input-id">

              <div class="cat-modal-footer">
                <button onclick="catCloseModals()" class="cat-btn cat-btn-secondary">Cancelar</button>
                <button onclick="catHandleSave()" id="cat-btn-save" class="cat-btn cat-btn-primary">Salvar</button>
              </div>
            </div>
          </div>

          <div id="cat-modal-delete" class="cat-modal-overlay">
            <div class="cat-modal-content">
              <div class="cat-delete-icon-wrapper">
                <i class="bi bi-exclamation-triangle-fill"></i>
              </div>

              <h2 class="cat-modal-title">Excluir Categoria?</h2>

              <p class="cat-modal-desc">
                Você está prestes a excluir a categoria <strong id="cat-delete-target-name"
                  style="color: #1e293b;"></strong>.
                <br><br>
                <span id="cat-delete-count-warning"></span> produtos deixarão de ter essa categoria.
              </p>

              <div class="cat-modal-footer">
                <button onclick="catCloseModals()" class="cat-btn cat-btn-secondary">Cancelar</button>
                <button onclick="catConfirmDelete()" id="cat-btn-confirm-delete" class="cat-btn cat-btn-danger">Sim,
                  excluir</button>
              </div>
            </div>
          </div>
        </div>
        <div class="page" id="controle-header">

          <section class="header-link-section">
            <div class="header-link-wrapper">
              <div class="header-link-header">
                <h2 class="header-link-main-title">Gerenciar Links do Menu</h2>
                <p>Clique em qualquer item abaixo para alterar o link de destino.</p>
              </div>

              <div class="admin-mega-menu-container">

                <div class="admin-menu-column">
                  <h3>Vestuário</h3>
                  <ul class="admin-menu-list">
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-ver-todos">Ver Todos</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-camisetas">Camisetas</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-plus-size">Camiseta Plus-Size</a>
                    </li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-manga-longa">Camiseta Manga
                        Longa</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-moletons">Moletons</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-jaquetas">Jaquetas E Casacos</a>
                    </li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-camisas">Camisas</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-calcas">Calças</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="vestuario-shorts">Shorts E Bermudas</a></li>
                  </ul>
                </div>

                <div class="admin-menu-column">
                  <h3>Outros</h3>
                  <ul class="admin-menu-list">
                    <li><a href="#" class="admin-link-item" data-link-id="outros-ver-todos">Ver Todos</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="outros-juvenil">Juvenil</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="outros-feminino">Feminino</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="outros-packs">Packs</a></li>
                  </ul>
                </div>

                <div class="admin-menu-column">
                  <h3>Acessórios</h3>
                  <ul class="admin-menu-list">
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-ver-todos">Ver Todos</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-chaveiros">Chaveiros E
                        Adesivos</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-cuecas">Cuecas</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-gorros">Gorros</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-pochetes">Pochetes</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-mochilas">Mochilas</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-meias">Meias</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-bags">Bags</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-bones">Bonés</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-bucket">Bucket</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="acessorios-carteiras">Carteiras</a></li>
                  </ul>
                </div>

                <div class="admin-menu-column">
                  <h3>Calçados</h3>
                  <ul class="admin-menu-list">
                    <li><a href="#" class="admin-link-item" data-link-id="calcados-ver-todos">Ver Todos</a></li>
                    <li><a href="#" class="admin-link-item" data-link-id="calcados-chinelos">Chinelos</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </section>
        </div>
      </section>
    </section>
  </main>

  <div id="modal-user-details" class="custom-modal-overlay hidden">
    <div class="custom-modal-content details-modal-pro">
      
      <div class="details-header-pro">
        <h3>Ficha do Usuário</h3>
        <button class="close-modal-btn-pro" onclick="closeUserModal()">
          <i class="ri-close-line"></i>
        </button>
      </div>

      <div class="details-body-pro">
        
        <div class="details-avatar-section">
          <div class="avatar-large-wrapper" id="detail-avatar-wrapper">
            <span id="detail-initials">US</span>
            <img id="detail-img" src="" alt="Avatar" style="display:none;">
          </div>
          <h2 id="detail-fullname" class="user-fullname-pro">Carregando...</h2>
          <p id="detail-username" class="user-username-pro">@usuario</p>
        </div>

        <div class="details-info-grid">
          <div class="info-item-pro">
            <span class="info-label">Email</span>
            <span id="detail-email" class="info-value">email@exemplo.com</span>
          </div>
          <div class="info-item-pro">
            <span class="info-label">CPF</span>
            <span id="detail-cpf" class="info-value">---</span>
          </div>
          <div class="info-item-pro">
            <span class="info-label">Data de Cadastro</span>
            <span id="detail-date" class="info-value">00/00/0000</span>
          </div>
          <div class="info-item-pro">
            <span class="info-label">ID do Sistema</span>
            <span id="detail-id" class="info-value" style="font-size: 0.8rem; font-family:monospace;">UUID</span>
          </div>
        </div>

      </div>

      <div class="details-footer-pro">
        <button id="btn-open-ban" class="btn-pro-danger">Banir Usuário</button>
        <button id="btn-toggle-admin-modal" class="btn-pro-black">Tornar Admin</button>
      </div>
    </div>
  </div>

  <div id="modal-ban-user" class="custom-modal-overlay hidden" style="z-index: 10001;">
    <div class="custom-modal-content ban-modal-pro">
      <div class="ban-header-pro">
        <div class="icon-warning-wrapper">
          <i class="ri-alarm-warning-fill"></i>
        </div>
        <h3>Restringir Acesso</h3>
        <button class="close-modal-btn-pro" onclick="closeBanModal()"><i class="ri-close-line"></i></button>
      </div>

      <div class="ban-body-pro">
        <p class="ban-subtitle">Defina o tempo de suspensão e o motivo para o histórico.</p>

        <div class="form-group-pro">
          <label>Duração da Suspensão</label>
          <input type="hidden" id="ban-duration-value">
          <div class="admin-custom-select" id="ban-duration-wrapper">
            <div class="select-trigger" tabindex="0">
              <span id="ban-duration-text">Selecione a duração...</span>
              <i class="ri-arrow-down-s-line"></i>
            </div>
            <div class="select-options">
              <div class="select-option" data-value="permanent">
                <i class="ri-indeterminate-circle-line"></i> Permanente (Para sempre)
              </div>
              <div class="select-option" data-value="temporary">
                <i class="ri-timer-line"></i> Temporário (Definir data)
              </div>
            </div>
          </div>
        </div>

        <div id="ban-date-container" class="form-group-pro hidden fade-in">
          <label>Suspenso até:</label>
          <div class="input-icon-wrapper-pro">
            <i class="ri-calendar-event-line"></i>
            <input type="date" id="ban-date-input" class="input-pro">
          </div>
        </div>

        <div class="form-group-pro">
          <label>Motivo da ação</label>
          <textarea id="ban-reason" class="textarea-pro" placeholder="Ex: Violação dos termos de uso..."></textarea>
        </div>
      </div>

      <div class="ban-footer-pro">
        <button onclick="closeBanModal()" class="btn-pro-secondary">Cancelar</button>
        <button onclick="confirmBanUser()" class="btn-pro-danger">Confirmar Banimento</button>
      </div>
    </div>
  </div>

  <div id="modal-coupon" class="modal-overlay-coupon" style="display: none;">
    <div class="modal-content modal-lg">
      <h2 id="modal-title">Novo Cupom</h2>

      <div class="coupon-modal-grid">
        <div class="coupon-form-side">
          <input type="hidden" id="coupon-id">
          <div class="form-group">
            <label>Código de Acesso</label>
            <div class="input-icon-wrapper">
              <i class="ri-key-2-line"></i>
              <input type="text" id="coupon-code" placeholder="Ex: PRIMEIRACOMPRA" maxlength="20"
                style="text-transform: uppercase;">
            </div>
          </div>
          <div class="form-group">
            <label>Tipo de Cupom</label>
            <input type="hidden" id="coupon-main-type">
            <div class="admin-custom-select" id="select-type-wrapper">
              <div class="select-trigger" tabindex="0">
                <span id="select-type-text">Selecione o tipo...</span>
                <i class="ri-arrow-down-s-line"></i>
              </div>
              <div class="select-options">
                <div class="select-option" data-value="discount"><i class="ri-price-tag-3-line"></i> Desconto no Produto
                </div>
                <div class="select-option" data-value="shipping"><i class="ri-truck-line"></i> Frete / Entrega</div>
              </div>
            </div>
          </div>
          <div id="discount-options" class="dynamic-options hidden fade-in">
            <label>Porcentagem de Desconto</label>
            <div class="percent-grid">
              <button type="button" class="percent-btn" data-value="5">5%</button>
              <button type="button" class="percent-btn" data-value="10">10%</button>
              <button type="button" class="percent-btn" data-value="15">15%</button>
              <button type="button" class="percent-btn" data-value="20">20%</button>
              <button type="button" class="percent-btn" data-value="25">25%</button>
              <button type="button" class="percent-btn" data-value="30">30%</button>
              <button type="button" class="percent-btn" data-value="50">50%</button>
            </div>
          </div>
          <div id="shipping-options" class="dynamic-options hidden fade-in">
            <label style="margin-bottom: 10px; display:block;">Tipo de Benefício no Frete</label>
            <div class="shipping-cards-row">
              <div class="shipping-card-option selected" data-value="free">
                <input type="radio" name="shipping_type" value="free" checked style="display:none;">
                <div class="card-icon"><i class="ri-gift-line"></i></div>
                <div class="card-info"><span class="card-title">Frete Grátis</span><span class="card-desc">Cliente não
                    paga nada</span></div>
                <div class="check-icon"><i class="ri-check-line"></i></div>
              </div>
              <div class="shipping-card-option" data-value="percent">
                <input type="radio" name="shipping_type" value="percent" style="display:none;">
                <div class="card-icon"><i class="ri-percent-line"></i></div>
                <div class="card-info"><span class="card-title">Desconto no Frete</span><span class="card-desc">Redução
                    parcial</span></div>
                <div class="check-icon"><i class="ri-check-line"></i></div>
              </div>
            </div>
            <div id="shipping-percent-wrapper" class="hidden" style="margin-top: 15px;">
              <label>Porcentagem OFF</label>
              <div class="percent-grid" id="shipping-percent-grid">
                <button type="button" class="percent-btn" data-value="10">10%</button>
                <button type="button" class="percent-btn" data-value="20">20%</button>
                <button type="button" class="percent-btn" data-value="50">50%</button>
                <button type="button" class="percent-btn" data-value="75">75%</button>
              </div>
              <input type="hidden" id="shipping-percent-value">
            </div>
          </div>
          <div class="form-group">
            <label>Descrição (Interna)</label>
            <textarea id="coupon-desc" placeholder="Ex: Válido para compras acima de R$100"></textarea>
          </div>
          <div class="form-group">
            <label>Expira em (Opcional)</label>
            <input type="date" id="coupon-expires">
          </div>
        </div>

        <div class="coupon-preview-side">
          <h3>Visualização</h3>
          <div class="preview-container">
            <div id="preview-ticket" class="coupon-ticket"><span id="preview-text">CUPOM</span></div>
          </div>
          <div class="style-controls">
            <div class="style-group">
              <label>Cor Principal</label>
              <div class="color-picker-row" id="primary-colors">
                <div class="color-dot active" style="background:#000;" data-color="#000000"></div>
                <div class="color-dot" style="background:#191D28;" data-color="#191D28"></div>
                <div class="color-dot" style="background:#003366;" data-color="#003366"></div>
                <div class="color-dot" style="background:#00bfa5;" data-color="#00bfa5"></div>
                <div class="color-dot custom-wrapper"><i class="ri-add-line"></i><input type="color"
                    id="custom-primary"></div>
              </div>
            </div>
            <div class="style-group">
              <label>Cor de Fundo</label>
              <div class="color-picker-row" id="secondary-colors">
                <div class="color-dot" style="background:#ffffff;" data-color="#ffffff"></div>
                <div class="color-dot active" style="background:#f0f0f0;" data-color="#f0f0f0"></div>
                <div class="color-dot" style="background:#e0f7fa;" data-color="#e0f7fa"></div>
                <div class="color-dot" style="background:#fff0f5;" data-color="#fff0f5"></div>
                <div class="color-dot custom-wrapper"><i class="ri-add-line"></i><input type="color"
                    id="custom-secondary"></div>
              </div>
            </div>
            <div class="style-group">
              <label>Estilo da Borda</label>
              <input type="hidden" id="border-style-value">
              <div class="admin-custom-select" id="select-border-wrapper">
                <div class="select-trigger" tabindex="0"><span id="select-border-text">Tracejada</span><i
                    class="ri-arrow-down-s-line"></i></div>
                <div class="select-options">
                  <div class="select-option" data-value="dashed">Tracejada</div>
                  <div class="select-option" data-value="solid">Sólida</div>
                  <div class="select-option" data-value="dotted">Pontilhada</div>
                  <div class="select-option" data-value="double">Dupla</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-actions">
        <button id="btn-cancel-modal" class="btn-cancelar">Cancelar</button>
        <button id="btn-save-coupon" class="btn-principal">Salvar Cupom</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
  <script type="module" src="assets/js/supabase-client.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="assets/js/cupons.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="assets/js/dashboard.js"></script>
  <script src="assets/js/header-control.js"></script>
</body>

</html>
